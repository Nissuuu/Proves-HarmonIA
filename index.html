<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HarmonIA</title>
    <style>
        .button {
            --color: #fff;
            --color-hover: var(--color);
            --background: #2B3044;
            --background-hover: var(--background);
            --hover-back: #6D58FF;
            --hover-front: #5C86FF;
            padding: 8px 28px;
            border-radius: 20px;
            line-height: 24px;
            font-size: 14px;
            font-weight: 600;
            letter-spacing: .02em;
            border: none;
            outline: none;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            -webkit-appearance: none;
            -webkit-tap-highlight-color: transparent;
            -webkit-mask-image: -webkit-radial-gradient(white, black);
            color: var(--c, var(--color));
            background: var(--b, var(--background));
            transition: color .2s linear var(--c-d, .2s), background .3s linear var(--b-d, .2s);
        }
        
        .button:not(.simple) {
            &:before,
            &:after {
                content: '';
                position: absolute;
                background: var(--pb, var(--hover-back));
                top: 0;
                left: 0;
                right: 0;
                height: 200%;
                border-radius: var(--br, 40%);
                transform: translateY(var(--y, 50%));
                transition: transform var(--d, .4s) ease-in var(--d-d, 0s);
            }
            
            &:after {
                --pb: var(--hover-front);
                --d: .44s;
            }
        }
        
        .button div {
            z-index: 1;
            position: relative;
            display: flex;
        }
        
        .button span {
            display: block;
            backface-visibility: hidden;
            transform: translateZ(0);
            animation: var(--name, none) .7s linear forwards .18s;
        }
        
        .button.in:not(.out) {
            --c: var(--color-hover);
            --b: var(--background-hover);
        }
        
        .button.in.out:before {
            --d-d: .06s;
        }
        
        @keyframes move {
            30%, 36% {
                transform: translateY(calc(-6px * var(--move))) translateZ(0) rotate(calc(-13deg * var(--rotate) * var(--part)));
            }
            50% {
                transform: translateY(calc(3px * var(--move))) translateZ(0) rotate(calc(6deg * var(--rotate) * var(--part)));
            }
            70% {
                transform: translateY(calc(-2px * var(--move))) translateZ(0) rotate(calc(-3deg * var(--rotate) * var(--part)));
            }
        }
        
        @keyframes move-out {
            30%, 36% {
                transform: translateY(calc(6px * var(--move))) translateZ(0) rotate(calc(13deg * var(--rotate) * var(--part)));
            }
            50% {
                transform: translateY(calc(-3px * var(--move))) translateZ(0) rotate(calc(-6deg * var(--rotate) * var(--part)));
            }
            70% {
                transform: translateY(calc(2px * var(--move))) translateZ(0) rotate(calc(3deg * var(--rotate) * var(--part)));
            }
        }
    </style>
</head>
<body>
    <button class="button">Button</button>
    <script>
        document.querySelectorAll('.button').forEach(button => {
            let div = document.createElement('div'),
                letters = button.textContent.trim().split('');
        
            function elements(letter, index, array) {
                let element = document.createElement('span'),
                    part = (index >= array.length / 2) ? -1 : 1,
                    position = (index >= array.length / 2) ? array.length / 2 - index + (array.length / 2 - 1) : index,
                    move = position / (array.length / 2),
                    rotate = 1 - move;
        
                element.innerHTML = !letter.trim() ? '&nbsp;' : letter;
                element.style.setProperty('--move', move);
                element.style.setProperty('--rotate', rotate);
                div.appendChild(element);
            }
        
            letters.forEach(elements);
            button.innerHTML = div.outerHTML;
        
            button.addEventListener('mouseenter', () => {
                if (!button.classList.contains('out')) {
                    button.classList.add('in');
                }
            });
        
            button.addEventListener('mouseleave', () => {
                if (button.classList.contains('in')) {
                    button.classList.add('out');
                    setTimeout(() => button.classList.remove('in', 'out'), 950);
                }
            });
        });
    </script>
</body>
</html>
